<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link rel="shortcut icon" type="image/png" href="img/favicon.png" />
    <title>Adelya Birthday</title>
    <!-- Google Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600&display=swap"
        rel="stylesheet">
    <!-- My Style -->
    <link rel="stylesheet" href="./style/main.css" />
</head>

<script>
    document.addEventListener("DOMContentLoaded", () => {

        /* =====================
           ROOT
        ===================== */
        const root = document.documentElement;

        /* =====================
           THEME (DEFAULT DARK)
        ===================== */
        const themeToggle = document.getElementById("themeToggle");

        const savedTheme = localStorage.getItem("theme") || "dark";
        root.setAttribute("data-theme", savedTheme);
        themeToggle.textContent = savedTheme === "dark" ? "â˜€ï¸" : "ðŸŒ™";

        themeToggle.addEventListener("click", () => {
            const next =
                root.getAttribute("data-theme") === "dark" ? "light" : "dark";

            root.setAttribute("data-theme", next);
            localStorage.setItem("theme", next);
            themeToggle.textContent = next === "dark" ? "â˜€ï¸" : "ðŸŒ™";
        });

        /* =====================
           LANGUAGE
        ===================== */
        const langToggle = document.getElementById("langToggle");

        const texts = {
            en: {
                greetingText: "This is just a small giftâ€¦ but it comes from a sincere place.",
                birthday: "Itâ€™s your birthday ðŸŽ‚",
                chatbox:
                    "I know meeting someone new isnâ€™t always easy. Especially after things that once hurt and disappointed you. So I didnâ€™t want to come with expectations â€” just something gentle, for today.",
                idea1: "At first, I hesitated.",
                idea2: "I didnâ€™t want this to feel too much.",
                idea3: "But then I realized, sometimes simple things matter the most.",
                idea4: "Because,",
                idea5: "You deserve to be celebrated",
                pauseText: "Before anything else...\nTake a breath.",
                wishTitle: "Happy Birthday",
                wishText:
                    "Even though weâ€™ve only known each other for a short time, Iâ€™m grateful for the comfort weâ€™ve shared. I hope today feels warm, calm, and kind to you.",
                ending:
                    "I didnâ€™t come with promises. I just hope to be someone who never adds another wound.",
                replay: "Happy Birthday. May life always treat you gently and with kindness ðŸ¤",
                retry: "ðŸ” Play again",

            },

            id: {
                greetingText: "Ini hanyalah hadiah kecilâ€¦ tapi datang dari tempat yang tulus.",
                birthday: "Hari ini ulang tahunmu ðŸŽ‚",
                chatbox:
                    "Aku tahu mengenal orang baru tidak selalu mudah. Terutama setelah hal-hal yang pernah menyakiti dan mengecewakanmu. Jadi aku tidak datang dengan harapan â€” hanya sesuatu yang lembut, untuk hari ini.",
                idea1: "Awalnya aku ragu.",
                idea2: "Aku tidak ingin ini terasa berlebihan.",
                idea3: "Tapi kemudian aku sadar, hal sederhana sering kali paling berarti.",
                idea4: "Karena,",
                idea5: "Kamu layak dirayakan",
                wishTitle: "Selamat Ulang Tahun",
                pauseText: "Sebelum lanjut...\nTarik napas sebentar.",
                wishText:
                    "Walaupun kita baru saling mengenal dalam waktu singkat, aku bersyukur atas rasa nyaman yang kita bagi. Semoga hari ini terasa hangat, tenang, dan baik untukmu.",
                ending:
                    "Aku tidak datang dengan janji. Aku hanya berharap tidak menjadi luka yang baru.",
                replay: "Selamat ulang tahun. Semoga hidup selalu memperlakukanmu dengan lembut dan penuh kebaikan ðŸ¤",
                retry: "ðŸ” Putar ulang",

            },
        };

        let currentLang = localStorage.getItem("lang") || "en";

        // function applyLang(lang) {
        //     document.querySelectorAll("[data-i18n]").forEach(el => {
        //         const key = el.dataset.i18n;
        //         if (texts[lang][key]) {
        //             el.textContent = texts[lang][key];
        //         }
        //     });

        //     langToggle.textContent = lang === "en" ? "ðŸ‡®ðŸ‡©" : "ðŸ‡¬ðŸ‡§";
        //     localStorage.setItem("lang", lang);
        //     currentLang = lang;
        // }

        function applyLang(lang) {
            document.querySelectorAll("[data-i18n]").forEach(el => {
                const key = el.dataset.i18n;
                if (texts[lang][key]) {
                    el.innerHTML = texts[lang][key].replace(/\n/g, "<br>");
                }
            });

            langToggle.textContent = lang === "en" ? "ðŸ‡®ðŸ‡©" : "ðŸ‡¬ðŸ‡§";
            localStorage.setItem("lang", lang);
            currentLang = lang;
        }


        // aman buat GSAP
        setTimeout(() => applyLang(currentLang), 50);

        langToggle.addEventListener("click", () => {
            applyLang(currentLang === "en" ? "id" : "en");
        });

        /* =====================
           REPLAY OBSERVER
        ===================== */
        const nineSection = document.querySelector(".nine");
        const replayText = document.getElementById("replay");

        if (nineSection && replayText) {
            const observer = new MutationObserver(() => {
                const style = window.getComputedStyle(replayText);
                if (style.visibility !== "hidden" && style.opacity !== "0") {
                    nineSection.classList.add("show-retry");
                    observer.disconnect();
                }
            });

            observer.observe(replayText, {
                attributes: true,
                attributeFilter: ["style", "class"],
            });
        }
    });
</script>

<body>
    <audio class="song" loop autoplay>
        <source src="./music/hbd.mpeg">
        </source>
        Your browser isn't invited for super fun audio time.
    </audio>

    <div class="container">

        <!-- ONE -->
        <div class="one">
            <h1 class="one">
                Hi
                <span id="name">Adelya</span>
            </h1>
            <p class="two" data-i18n="greetingText"></p>
        </div>

        <!-- THREE -->
        <div class="three">
            <p data-i18n="birthday"></p>
        </div>

        <!-- FOUR -->
        <div class="four">
            <div class="text-box">
                <p class="hbd-chatbox" data-i18n="chatbox"></p>
                <p class="fake-btn">Send</p>
            </div>
        </div>

        <!-- FIVE -->
        <div class="five">
            <p class="idea-1" data-i18n="idea1"></p>
            <p class="idea-2" data-i18n="idea2"></p>

            <p class="idea-3" data-i18n="idea3"></p>

            <p class="idea-4" data-i18n="idea4"></p>

            <p class="idea-5">
                You are Special
                <span> :)</span>
            </p>
            <p class="idea-6">
                <span>S</span>
                <span>O</span>
            </p>
        </div>

        <!-- PAUSE MOMENT -->
        <!-- <div class="pause" aria-hidden="true">
            <p class="pause-text" data-i18n="pauseText"></p>
        </div> -->
        <!-- SIX -->
        <div class="six">
            <img src="./img/adelya_photos.jpeg" alt="profile" class="profile-picture" id="imagePath" />
            <img src="img/hat.svg" alt="hat" class="hat" />
            <div class="wish">
                <h3 class="wish-hbd">Happy Birthday</h3>
                <h5 id="wishText" data-i18n="wishText"></h5>
                </h5>
            </div>
        </div>

        <!-- SEVEN -->
        <div class="seven">
            <div class="baloons">
                <img src="img/ballon2.svg" alt="" />
                <img src="img/ballon1.svg" alt="" />
                <img src="img/ballon3.svg" alt="" />
                <img src="img/ballon1.svg" alt="" />
                <img src="img/ballon2.svg" alt="" />
                <img src="img/ballon3.svg" alt="" />
                <img src="img/ballon2.svg" alt="" />
                <img src="img/ballon3.svg" alt="" />
                <img src="img/ballon1.svg" alt="" />
                <img src="img/ballon2.svg" alt="" />
                <img src="img/ballon3.svg" alt="" />
                <img src="img/ballon2.svg" alt="" />
                <img src="img/ballon1.svg" alt="" />
                <img src="img/ballon3.svg" alt="" />
                <img src="img/ballon2.svg" alt="" />
                <img src="img/ballon3.svg" alt="" />
                <img src="img/ballon1.svg" alt="" />
                <img src="img/ballon2.svg" alt="" />
                <img src="img/ballon1.svg" alt="" />
                <img src="img/ballon3.svg" alt="" />
                <img src="img/ballon3.svg" alt="" />
                <img src="img/ballon1.svg" alt="" />
                <img src="img/ballon2.svg" alt="" />
                <img src="img/ballon3.svg" alt="" />
                <img src="img/ballon2.svg" alt="" />
                <img src="img/ballon1.svg" alt="" />
                <img src="img/ballon3.svg" alt="" />
                <img src="img/ballon2.svg" alt="" />
                <img src="img/ballon3.svg" alt="" />
                <img src="img/ballon1.svg" alt="" />
                <img src="img/ballon2.svg" alt="" />
                <img src="img/ballon1.svg" alt="" />
                <img src="img/ballon3.svg" alt="" />
            </div>
        </div>

        <!-- EIGHT -->
        <div class="eight">
            <svg viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
                <circle cx="20" cy="20" r="20" />
            </svg>
            <svg viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
                <circle cx="20" cy="20" r="20" />
            </svg>
            <svg viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
                <circle cx="20" cy="20" r="20" />
            </svg>
            <svg viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
                <circle cx="20" cy="20" r="20" />
            </svg>
            <svg viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
                <circle cx="20" cy="20" r="20" />
            </svg>
            <svg viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
                <circle cx="20" cy="20" r="20" />
            </svg>
            <svg viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
                <circle cx="20" cy="20" r="20" />
            </svg>
            <svg viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
                <circle cx="20" cy="20" r="20" />
            </svg>
            <svg viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
                <circle cx="20" cy="20" r="20" />
            </svg>
        </div>

        <!-- NINE -->
        <div class="nine">
            <p data-i18n="ending">
            </p>
            <p id="replay" data-i18n="replay">
            </p>
            <button class="play-again-btn" onclick="location.reload()" data-i18n="retry">
            </button>
            <p class="last-smile">:)</p>
        </div>

        <button id="langToggle" aria-label="Toggle language">
            ðŸ‡¬ðŸ‡§
        </button>
        <button id="themeToggle" aria-label="Toggle theme">
            ðŸŒ™
        </button>
    </div>

</body>



<!-- Greensock -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/gsap.min.js"></script>
<!-- Sweetalert -->
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script type="application/javascript" src="./script/main.js"></script>

</html>